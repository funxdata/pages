(()=>{var u=e=>{document.addEventListener("click",function(t){let o=t.target.closest("a");o instanceof HTMLAnchorElement&&(t.preventDefault(),e.navigate(o.href))})};var d=e=>{let t=new URL(e);return t.origin!=globalThis.location.origin&&globalThis.window.open(e,"_blank"),t};var i=new URL("https://static.funxdata.com/default.js"),r=class{path;load_js;hook;already;before;after;leave;constructor(e,t,o=i){this.path=e,this.hook=t,this.load_js=o}async do_hookhandler(){this.already!=null&&await this.already(),this.before!=null&&await this.before(),this.hook!=null&&await this.hook(),this.after!=null&&await this.after()}async loading_url_hook(){if(this.load_js.href!=i.href){let e=document.createElement("script");this.load_js.href==""?e.src=i.href:e.src=this.load_js.href,e.onload=this.hook,document.body.appendChild(e),await this.hook()}else await this.hook()}async leave_handler(){this.leave!=null&&await this.leave()}};var a=class{node="";child=[];cross;constructor(t){this.node=t}add(t){this.child.push(t)}sum(){return this.child.length}};var s=(e,t)=>{for(let o=0;o<t.length;o++)if(e==t[o].path)return t[o]},f=async(e,t)=>{let o=globalThis.location.pathname,n=s(e,t);if(n!=null&&await n.leave_handler(),o==e){let c=s(e,t);c!=null&&await c.do_hookhandler();return}let h=s(e,t);h!=null&&await h.do_hookhandler()};var l=class{routnode;routers=[];constructor(){this.watch_interface(),this.routnode=new a("/")}watch_interface(){u(this)}on(t,o){let n=new r(t,o);return this.routers.push(n),n}_on_routs(){}_on_rout_node(){}off(t){if(this.routers===void 0)return!1;for(let o=0;o<this.routers.length;o++)if(this.routers[o].path==t)return this.routers.splice(o,1),!0;return!1}_off_routs(){}_off_rout_node(){}navigate(t){let o=d(t);this._match(o.pathname),this._pushState(t)}async _match(t){await f(t.trim(),this.routers)}_pushState(t){history.pushState(null,"",t)}},p=new l,m=globalThis.location.href;document.addEventListener("DOMContentLoaded",function(){p.navigate(m)});})();
